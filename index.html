<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stretch Flow</title>
<style>
body {
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  background: #f2f2f2;
  margin: 0;
}
header {
  background: #000;
  color: #fff;
  padding: 18px;
  text-align: center;
  font-size: 22px;
}
.container {
  max-width: 800px;
  margin: auto;
  padding: 16px;
}
.card {
  background: #fff;
  border-radius: 16px;
  padding: 16px;
  margin-bottom: 16px;
}
button {
  width: 100%;
  padding: 16px;
  font-size: 18px;
  border-radius: 14px;
  border: none;
  background: #000;
  color: #fff;
  margin-top: 10px;
}
button.secondary {
  background: #666;
}
h2 {
  margin-top: 0;
}
.timer {
  font-size: 42px;
  text-align: center;
  margin-top: 12px;
}
.image-wrap img {
  max-width: 100%;
  height: auto;
  border-radius: 12px;
  margin: 10px 0;
}
.hidden {
  display: none;
}
</style>
</head>
<body>

<header>Stretch Flow</header>

<div class="container">

<div id="zoneSelect" class="card">
  <h2>Select Area</h2>
  <button onclick="showZone('upper')">Upper Body</button>
  <button onclick="showZone('lower')">Lower Body</button>
</div>

<div id="stretchList" class="hidden"></div>

</div>

<script>
let timerInterval;
let timeLeft = 30;

/* ðŸ”” Audible tone */
function playBeep() {
  const ctx = new (window.AudioContext || window.webkitAudioContext)();
  const osc = ctx.createOscillator();
  const gain = ctx.createGain();
  osc.type = "sine";
  osc.frequency.setValueAtTime(880, ctx.currentTime);
  gain.gain.setValueAtTime(0.25, ctx.currentTime);
  osc.connect(gain);
  gain.connect(ctx.destination);
  osc.start();
  osc.stop(ctx.currentTime + 0.35);
}

/* Stretch definitions */
const stretches = {
  upper: [
    "Neck Side Stretch",
    "Neck Rotation Stretch",
    "Upper Trapezius Stretch",
    "Levator Scapulae Stretch",
    "Chest Opener",
    "Doorway Chest Stretch",
    "Overhead Triceps Stretch",
    "Cross-Body Shoulder Stretch",
    "Shoulder External Rotation Stretch",
    "Lat Overhead Stretch",
    "Upper Back Hug Stretch",
    "Wrist Flexor Stretch",
    "Wrist Extensor Stretch",
    "Forearm Pronation Stretch",
    "Forearm Supination Stretch",
    "Standing Side Bend Stretch"
  ],
  lower: [
    "Standing Hamstring Stretch",
    "Seated Hamstring Stretch",
    "Hip Flexor Lunge Stretch",
    "Quad Stretch",
    "Figure-4 Glute Stretch",
    "Piriformis Stretch",
    "Adductor Stretch",
    "Butterfly Stretch",
    "Calf Gastrocnemius Stretch",
    "Soleus Stretch",
    "IT Band Stretch",
    "Standing Hip Hinge Stretch",
    "Kneeling Quad Stretch",
    "Hip External Rotation Stretch",
    "Deep Squat Hold",
    "Ankle Dorsiflexion Stretch"
  ]
};

/* Realistic diagram URLs (public-domain / permissive) */
const stretchImages = {
  "Neck Side Stretch": "https://upload.wikimedia.org/wikipedia/commons/3/3c/Neck_stretch_side.png",
  "Neck Rotation Stretch": "https://upload.wikimedia.org/wikipedia/commons/6/6b/Neck_rotation_stretch.png",
  "Upper Trapezius Stretch": "https://upload.wikimedia.org/wikipedia/commons/3/3c/Neck_stretch_side.png",
  "Levator Scapulae Stretch": "https://upload.wikimedia.org/wikipedia/commons/6/6b/Neck_rotation_stretch.png",
  "Chest Opener": "https://upload.wikimedia.org/wikipedia/commons/4/4f/Chest_stretch_standing.png",
  "Doorway Chest Stretch": "https://upload.wikimedia.org/wikipedia/commons/1/1c/Doorway_chest_stretch.png",
  "Overhead Triceps Stretch": "https://upload.wikimedia.org/wikipedia/commons/9/94/Triceps_stretch_overhead.png",
  "Cross-Body Shoulder Stretch": "https://upload.wikimedia.org/wikipedia/commons/5/56/Shoulder_cross_body_stretch.png",
  "Shoulder External Rotation Stretch": "https://upload.wikimedia.org/wikipedia/commons/5/56/Shoulder_cross_body_stretch.png",
  "Lat Overhead Stretch": "https://upload.wikimedia.org/wikipedia/commons/9/94/Triceps_stretch_overhead.png",
  "Upper Back Hug Stretch": "https://upload.wikimedia.org/wikipedia/commons/2/29/Upper_back_stretch.png",
  "Wrist Flexor Stretch": "https://upload.wikimedia.org/wikipedia/commons/8/8f/Wrist_flexor_stretch.png",
  "Wrist Extensor Stretch": "https://upload.wikimedia.org/wikipedia/commons/4/4a/Wrist_extensor_stretch.png",
  "Forearm Pronation Stretch": "https://upload.wikimedia.org/wikipedia/commons/8/8f/Wrist_flexor_stretch.png",
  "Forearm Supination Stretch": "https://upload.wikimedia.org/wikipedia/commons/4/4a/Wrist_extensor_stretch.png",
  "Standing Side Bend Stretch": "https://upload.wikimedia.org/wikipedia/commons/6/63/Side_bend_stretch.png",

  "Standing Hamstring Stretch": "https://upload.wikimedia.org/wikipedia/commons/7/7b/Hamstring_stretch_standing.png",
  "Seated Hamstring Stretch": "https://upload.wikimedia.org/wikipedia/commons/8/8e/Hamstring_stretch_seated.png",
  "Hip Flexor Lunge Stretch": "https://upload.wikimedia.org/wikipedia/commons/2/2f/Hip_flexor_lunge_stretch.png",
  "Quad Stretch": "https://upload.wikimedia.org/wikipedia/commons/b/b2/Quadriceps_stretch_standing.png",
  "Figure-4 Glute Stretch": "https://upload.wikimedia.org/wikipedia/commons/6/6e/Figure_4_stretch.png",
  "Piriformis Stretch": "https://upload.wikimedia.org/wikipedia/commons/6/6e/Figure_4_stretch.png",
  "Adductor Stretch": "https://upload.wikimedia.org/wikipedia/commons/3/39/Adductor_stretch.png",
  "Butterfly Stretch": "https://upload.wikimedia.org/wikipedia/commons/3/39/Adductor_stretch.png",
  "Calf Gastrocnemius Stretch": "https://upload.wikimedia.org/wikipedia/commons/0/09/Calf_stretch_wall.png",
  "Soleus Stretch": "https://upload.wikimedia.org/wikipedia/commons/0/09/Calf_stretch_wall.png",
  "IT Band Stretch": "https://upload.wikimedia.org/wikipedia/commons/6/63/Side_bend_stretch.png",
  "Standing Hip Hinge Stretch": "https://upload.wikimedia.org/wikipedia/commons/7/7b/Hamstring_stretch_standing.png",
  "Kneeling Quad Stretch": "https://upload.wikimedia.org/wikipedia/commons/b/b2/Quadriceps_stretch_standing.png",
  "Hip External Rotation Stretch": "https://upload.wikimedia.org/wikipedia/commons/6/6e/Figure_4_stretch.png",
  "Deep Squat Hold": "https://upload.wikimedia.org/wikipedia/commons/5/5a/Deep_squat_position.png",
  "Ankle Dorsiflexion Stretch": "https://upload.wikimedia.org/wikipedia/commons/0/09/Calf_stretch_wall.png"
};

function showZone(zone) {
  document.getElementById("zoneSelect").classList.add("hidden");
  const list = document.getElementById("stretchList");
  list.innerHTML = "";
  list.classList.remove("hidden");

  stretches[zone].forEach(name => {
    const safeId = name.replace(/\s/g, "");
    const img = stretchImages[name];
    const card = document.createElement("div");
    card.className = "card";
    card.innerHTML = `
      <h2>${name}</h2>
      <div class="image-wrap">
        <img src="${img}" alt="${name}">
      </div>
      <div class="timer" id="timer-${safeId}">30</div>
      <button onclick="startTimer('timer-${safeId}')">Start 30s</button>
    `;
    list.appendChild(card);
  });

  const back = document.createElement("button");
  back.textContent = "â† Back";
  back.className = "secondary";
  back.onclick = reset;
  list.appendChild(back);
}

function startTimer(id) {
  clearInterval(timerInterval);
  timeLeft = 30;
  const display = document.getElementById(id);
  display.textContent = timeLeft;

  timerInterval = setInterval(() => {
    timeLeft--;
    display.textContent = timeLeft;
    if (timeLeft <= 0) {
      clearInterval(timerInterval);
      display.textContent = "Done";
      navigator.vibrate && navigator.vibrate(200);
      playBeep();
    }
  }, 1000);
}

function reset() {
  document.getElementById("stretchList").classList.add("hidden");
  document.getElementById("zoneSelect").classList.remove("hidden");
}
</script>

</body>
</html>